FloatLayout:
    AnchorLayout:
        anchor_x: 'left'
        anchor_y: 'top'
        size_hint: (1.0, 1.0)
        TopBarWidget:

    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'top'
        size_hint: (1.0, 1.0)
        TransformWidget:

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'center'
        size_hint: (1.0, 1.0)
        SettingsWidget:
            id: settings

<TopBarWidget>
    orientation: 'vertical'
    size_hint: (1.0, None)
    size: (1, 39)

    BoxLayout:
        orientation: 'horizontal'
        size_hint: (1.0, None)
        size: (1, 39)
        canvas:
            Color:
                rgb: 0.84, 0.84, 0.84
            Rectangle:
                size: self.size
                pos: self.pos

        Image:
            source: 'atlas://data/images/defaulttheme/checkbox_on'
            size_hint: (None, 1.0)
            size: (186, 1)
        ToggleButton:
            text: '3D'
            group: 'viewDirection'
            size_hint: (None, 1.0)
            size: (40, 1)
        ToggleButton:
            text: 'Right'
            group: 'viewDirection'
            size_hint: (None, 1.0)
            size: (40, 1)
        ToggleButton:
            text: 'Front'
            group: 'viewDirection'
            size_hint: (None, 1.0)
            size: (40, 1)
        ToggleButton:
            text: 'Top'
            group: 'viewDirection'
            size_hint: (None, 1.0)
            size: (40, 1)

        Widget:
            #Spacing
        Label:
            text: 'View Settings'
            color: (0, 0, 0, 1)
            size_hint: (None, 1.0)
            size: (120, 1)
        Spinner:
            text: 'Normal'
            values: ('Normal', 'Special')
            size_hint: (None, 1.0)
            size: (94, 1)
        Button:
            text: 'Settings'
            size_hint: (None, 1.0)
            size: (89, 1)
        Button:
            text: 'Help'
            size_hint: (None, 1.0)
            size: (89, 1)
    Widget:
        canvas:
            Color:
                rgb: (0.1, 0.1, 0.1)
            Rectangle:
                size: self.size
                pos: self.pos
        size_hint: (1.0, None)
        size: (1, 1)

#Model transformation widget
<TransformWidget>:
    size_hint: (None, None)
    size: (165, 80)
    BoxLayout:
        orientation: 'vertical'
        size: self.parent.size
        pos: self.parent.pos
        Label:
            text: "Transform model"
            size_hint_y: 0.25
            canvas.before:
                Color:
                    rgb: (0.3, 0.3, 0.3)
                Rectangle:
                    size:self.size
                    pos: self.pos

        GridLayout:
            cols: 3
            padding:(2,2,2,2)
            spacing:(1,0)
            canvas.before:
                Color:
                    rgb: (0.8, 0.8, 0.8)
                Rectangle:
                    size:self.size
                    pos: self.pos
            ToggleButton:
                text: "1"
                group: 'transformation'
                #TODO: Fix the button label presses. This is a dirty hack
                on_press:
                    button1Label.text = "1"
                    button2Label.text = ""
                    button3Label.text = ""

            ToggleButton:
                text: "2"
                group: 'transformation'
                on_press:
                    button1Label.text = ""
                    button2Label.text = "2"
                    button3Label.text = ""
            ToggleButton:
                text: "3"
                group: 'transformation'
                on_press:
                    button1Label.text = ""
                    button2Label.text = ""
                    button3Label.text = "3"

        GridLayout:
            cols: 3
            size_hint_y: 0.15
            padding:(0,5,0,0)
            Label:
                id: button1Label
                text: ""
            Label:
                id: button2Label
                text: ""
            Label:
                id: button3Label
                text: ""

<SettingsWidget>:
    orientation: 'vertical'
    size_hint: (None, 1.0)
    size: (180, 100)
    Widget:
        #Empty widget to space from the top.
        size_hint: (1.0, None)
        size: (180, 72)
    Button:
        size_hint: (1.0, None)
        size: (180, 18)
        text: "Print profile"
    BoxLayout:
        orientation: 'vertical'
        size_hint: (1.0, 1.0)
        id: settingsCategoryLayout
        Button:
            size_hint: (1.0, None)
            size: (180, 48)
            text: "Save"
        Widget:
            #Empty widget to fill the rest of the space.

<SettingCategoryButton>
    size_hint: (1.0, None)
    size: (180, 28)
